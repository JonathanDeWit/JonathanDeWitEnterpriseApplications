<!DOCTYPE html>
<html layout:decorate="layouts/main_layout" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<body>

<div layout:fragment="content">
  <div class="container mt-5">
    <h2>Checkout</h2>
    <table class="table">
      <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <div th:if="*{basket.size() < 1}" class="alert alert-primary" role="alert">
        Your Basket is empty
      </div>

      <tr th:each="item : ${basket}">
        <td th:text="${item.product.name}"></td>
        <td th:text="${item.product.price}"></td>
        <td th:text="${item.quantity}"></td>
        <td th:text="${item.product.price * item.quantity}"></td>
        <td>
          <form th:action="@{/basket/delete}" method="post">
            <input type="hidden" id="basketItemId" name="basketItemId" th:value="${item.id}" required>
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
    <h4>Total: <span th:text="${totalPrice}"></span></h4>
  </div>


</div>
</body>
</html>
